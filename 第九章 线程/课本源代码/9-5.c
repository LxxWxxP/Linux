#include <stdio.h>
#include <unistd.h>
#include <pthread.h>
#include <stdlib.h>
typedef struct 
{
	int a;
	int b;
}exit_t;
void * tfn(void * arg)
{
	exit_t * ret;
	ret=malloc(sizeof(exit_t));           //为ret动态分配内存 
	ret->a=100;
	ret->b=300;
	pthread_exit((void *)ret);            //线程终止
	return NULL;                          //线程返回 
}
int main(void)
{
	pthread_t tid;
	exit_t * retval;                      //线程终止参数类型 
	pthread_create(&tid,NULL,tfn,NULL);   //创建线程 
	pthread_join(tid,(void **)&retval);   //调用pthread_join可以获取线程的退出状态
	printf("a=%d, b=%d\n",retval->a,retval->b);
	return 0; 
}
